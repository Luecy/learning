<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<style>
			html,body,header,footer,main,div,span,p,label,a,button,img,video,textarea,canvas,[type="text"],[type="number"],[type="file"],::file-selector-button,::placeholder,select{all:initial;display:block;box-sizing:border-box;position:relative;font:100% system-ui,sans-serif;line-height:1.5;tab-size:4;max-width:100%;scroll-behavior:smooth}head,script,[hidden]{display:none}span,label,a,button,img,video,[type="text"],[type="number"],[type="file"],::file-selector-button,select{display:inline-block}html{background-color:#fff}body{padding:calc(1rem / 16 * 8)}body,main,div,span,p,label,a,header,footer{overflow-wrap:break-word}p{margin-bottom:1.5rem}textarea,[type="text"],[type="number"],select{border:solid calc(1rem / 16) gray;border-radius:calc(1rem / 16 * 2);padding:calc(1rem / 16) calc(1rem / 16 * 3);line-height:calc(1 / 16 * 20)}textarea:focus,[type="text"]:focus,[type="number"]:focus,select:focus{border:solid calc(1rem / 16 * 2) orange;padding:0 calc(1rem / 16 * 2)}[type="text"],[type="number"]{height:1.5rem}textarea{width:100%;white-space:pre;line-height:1.5}textarea:read-only{background-color:gray;border-color:#000}::placeholder{color:gray}button,::file-selector-button{border:solid calc(1rem / 16) gray;border-radius:calc(1rem / 16 * 2);padding:0 calc(1rem / 16 * 8);background-color:#eee;line-height:calc(1 / 16 * 22);height:1.5rem;overflow:scroll}button:active,::file-selector-button:active{border-color:#000;background-color:#fff}[type="file"]{text-overflow:ellipsis;white-space:nowrap}::file-selector-button{margin-right:calc(1rem / 16 * 2)}a:link{color:blue;cursor:pointer}a:visited{color:purple}a:hover{text-decoration:underline}a:active{color:red}canvas{max-height:100%;background-color:#000}img,video{object-fit:contain;max-height:100%}video{background-color:#000}[type="checkbox"],[type="radio"]{all:initial;appearance:auto;display:inline-block;box-sizing:border-box;position:relative;vertical-align:top;width:1.5rem;height:1.5rem}[type="range"]{all:initial;appearance:auto;height:1.5rem;vertical-align:top}select{appearance:auto;vertical-align:top;height:1.5rem}body{display:flex;flex-direction:column;height:100%;padding:0}header{background-color:#eee;height:3.25rem;padding:.375rem .5rem;line-height:1.25;overflow:scroll}main{flex-grow:1;overflow:scroll;padding:calc(1rem / 16 * 8)}footer{margin-top:0rem;height:1rem;background-color:#eee;line-height:1;overflow:scroll}[type="file"],a{margin-bottom:1rem}
		</style>
		<title>Open HTML</title>
	</head>
	<body>
		<header id="statusBar"></header>
		<main>
			<input id="" class="" type="file"><br>
			<a id="anchor_objectURL" class="">objectURL</a><br>
			<a id="anchor_dataURL" class="">dataURL</a>
		</main>
		<script>
			(()=>{"use strict";let e=new Map([["self",["defineProperty","freezeProperty","$","sleep","downloadFile","download","canvasToURL","drawImagefileToCanvas"]],["Math",["randomInt"]],["Blob.prototype",["uint8Array","dataURL"]],["String.prototype",["atob","btoa","toUTF8","toUTF16","base16Decode","normalizeNewline","trimIndent"]],["Uint8Array.prototype",["btoa","text","loop","random","base16Encode"]]]),t=(e,t,r="self",n=!1,l=!0,o=!0)=>{let a=e=>{let t=e.split("."),r=self;for(let n of t)r=r[n];return r},i=(e="self",t=[""])=>{"string"==typeof t&&(t=[t]);let r=a(e);for(let n of t)try{if(!0===r.hasOwnProperty(n))throw Error(`[${e}.${n}] is in conflict`)}catch(l){console.error(l)}};!1===Array.isArray(e)&&(e=[e]),!1===Array.isArray(t)&&(t=[t]),i(r,e),r=a(r);for(let f=0;f<t.length;f++)Object.defineProperty(r,e[f],{value:t[f],configurable:l,writable:n,enumerable:o})},r=[t,(e,t=self)=>{"string"==typeof e&&(e=[e]);for(let r=0;r<e.length;r++)Object.defineProperty(t,e[r],{configurable:!1,enumerable:!0,writable:!1})},e=>{let t=document.querySelectorAll(e);return 1===t.length?t[0]:t},(e=0)=>new Promise(t=>{setTimeout(t,e)}),(e,t="00.txt",r=document.querySelector("a"),n=!0)=>{"[object Uint8Array]"===toString.call(e)&&(e=new Blob([e])),n&&URL.revokeObjectURL(r.href);{let l=URL.createObjectURL(e);return""==t&&(t="00.txt"),r.download=t,r.href=l,l}},(e,t="00")=>{let r=document.createElement("a");"[object Uint8Array]"===toString.call(e)&&(e=new Blob([e]));{let n=URL.createObjectURL(e);r.href=n,r.download=t,r.click(),URL.revokeObjectURL(n)}},(e=document.querySelector("canvas"),t="image/png",r=.85)=>new Promise(n=>{e.toBlob(e=>{let t=URL.createObjectURL(e);n(t)},t,r)}),async(e,t=document.querySelector("canvas"),r,n,l=0,o=0,a=!0)=>{if("[object File]"!==toString.call(e)&&"[object Blob]"!==toString.call(e))return null;let i=new FileReader,f=new Image;return i.readAsDataURL(e),f.src=await new Promise(e=>{i.onload=()=>{e(i.result)}}),await f.decode().then(()=>{let e=t.getContext("2d");void 0==r&&(r=f.naturalWidth),void 0==n&&(n=f.naturalHeight),void 0==l&&(l=0),void 0==o&&(o=0),a&&(t.width=r,t.height=n),e.drawImage(f,l,o,r,n)}).catch(e=>e)},(e=255,t=0)=>Math.floor(Math.random()*(e-t+1)+t),async function(){let e=await this.arrayBuffer();return new Uint8Array(e)},function(){return new Promise(e=>{let t=new FileReader;t.readAsDataURL(this),t.onload=()=>{e(t.result)}})},function(){let e=atob(this.replace(/.*,/,"")),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},async function(){let e=new Blob([this]),t=await e.arrayBuffer(),r=new Uint8Array(t),n="";for(let l of r)n+=String.fromCharCode(l);return btoa(n)},function(){return new TextEncoder().encode(this)},function(e,t=!1){let r=(()=>{let e=Array(this.length);for(let t=0;t<this.length;t++){let r=this.charCodeAt(t);e[t]=r.toString(16).padStart(4,"0")}return e.join("").split("")})``,n=new Uint8Array(2*this.length);for(let l=0,o=0;l<r.length;l++){let a=r[o]+r[o+1];o+=2,n[l]=parseInt(a,16)}if(e=(()=>"be"===e||"BE"===e?"BE":"le"===e||"LE"===e?"LE":void 0)``,t=(()=>{let r=[254,255];return void 0===e||"BE"===e&&!0==t?r:"LE"===e&&!0==t&&[255,254]})``,"LE"===e)for(let i=0;i<n.length;i+=2){let f=n[i],c=n[i+1];n[i]=c,n[i+1]=f}if(!1!==t){let h=new Uint8Array(n.length+2),$=0;for(let u of(h[$++]=t[0],h[$++]=t[1],n))h[$++]=u;return h}return n},function(){let e=this.replace(/[^0-9A-Fa-f]/g,"").split(""),t=new Uint8Array(e.length/2);for(let r=0,n=0;r<t.length;r++){let l=e[n]+e[n+1];t[r]=parseInt(l,16),n+=2}return t},function(e="\n"){return this.replace(/\r\n|\r|\n/g,e)},function(e=!0,t=!0){let r=this.replace(/^ +|^\t+/mg,"");return!0==e&&(r=r.trimStart()),!0==t&&(r=r.trimEnd()),r},function(){let e="";for(let t of this)e+=String.fromCharCode(t);return btoa(e)},function(e="UTF-8"){return"UTF-16"===e&&(e="UTF-16BE"),new Promise(t=>{let r=new Blob([this]),n=new FileReader;n.readAsText(r,e),n.onload=()=>{t(n.result)}})},function(e=0,t=255,r=0,n=this.length-1){let l=e;for(let o=r;o<=n;o++)this[o]=l,++l>t&&(l=e);return this},function(e=0,t=255,r=0,n=this.length-1){for(let l=r;l<=n;l++)this[l]=Math.floor(Math.random()*(t-e+1)+e);return this},function(e="",t=!0,r=!0){let n=Array(this.length);for(let l=0;l<n.length;l++)n[l]=this[l].toString(16),!0===r&&(n[l]=n[l].toUpperCase()),!0===t&&(n[l]=n[l].padStart(2,"0"));return n.join(e)}],n=0;for(let l of e){let o=l[0],a=l[1],i=(()=>{let e=Array(a.length);for(let t=0;t<e.length;t++)e[t]=r[n],n++;return e})``;t(a,i,o)}})``;
			(()=>{"use strict";let t=$("#statusBar"),e=$("input"),a=$("#anchor_objectURL"),n=$("#anchor_dataURL"),c=e=>{t.innerText=e},r=async t=>{URL.revokeObjectURL(a.href),a.href=URL.createObjectURL(t),n.href=await t.dataURL()},l={key:"Open_HTML",save(t){return new Promise(async(e,a)=>{try{let n=await t.text();self.localStorage.setItem(this.key,n),e()}catch(c){a(c)}})},load(){return new Promise(async(t,e)=>{try{let a=self.localStorage.getItem(this.key);if(a){let n=new Blob([a],{type:"text/html"});await r(n)}t()}catch(c){e(c)}})}};e.oninput=async()=>{let t=e.files[0];t&&(c("now loading"),await sleep(),r(t),l.save(t).then(()=>{c("loaded")}).catch(t=>{c(t)}))},(()=>{c("now loading"),l.load().then(()=>{c("loaded")}).catch(t=>{c(t)})})``})``;
		</script>
	</body>
</html>
