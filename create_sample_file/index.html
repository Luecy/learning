<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<style>
			html,body,header,footer,main,div,span,p,label,a,button,img,textarea,canvas,[type="file"],[type="text"],[type="number"],[type="file"]::file-selector-button,textarea::placeholder,[type="text"]::placeholder,[type="number"]::placeholder,textarea:focus,[type="text"]:focus,[type="number"]:focus,button:active,[type="file"]::file-selector-button:active,a:link,a:visited,textarea:read-only{all:initial;display:block;box-sizing:border-box;position:relative;font-size:100%;font-family:system-ui,sans-serif;line-height:1.5}head,script{display:none}span,label,a,button,img,[type="text"],[type="number"],[type="file"]::file-selector-button,[type="text"]:focus,[type="number"]:focus,button:active,[type="file"]::file-selector-button:active,a:link,a:visited{display:inline-block}html{height:100%;background-color:#fff}body{height:100%;margin:0;padding:calc(1rem / 16 * 8)}main,div,span,p,label{word-break:break-all}p{margin:0;margin-bottom:1.5rem}textarea,[type="text"],[type="number"],textarea:focus,[type="text"]:focus,[type="number"]:focus,textarea:read-only{border:solid calc(1rem / 16) gray;border-radius:calc(1rem / 16 * 2);padding:calc(1rem / 16) calc(1rem / 16 * 3);line-height:calc(1 / 16 * 20)}textarea:focus,[type="text"]:focus,[type="number"]:focus{outline:none;border:solid calc(1rem / 16 * 2) orange;padding:0 calc(1rem / 16 * 2)}textarea,textarea:focus,textarea:read-only{width:100%;resize:none;white-space:pre;line-height:1.5}textarea:read-only{background-color:gray;border-color:#000}textarea:read-only:focus{border:solid calc(1rem / 16) #000;border-radius:calc(1rem / 16 * 2);padding:calc(1rem / 16) calc(1rem / 16 * 3)}textarea::placeholder,[type="text"]::placeholder,[type="number"]::placeholder{color:gray}button,[type="file"]::file-selector-button,button:active,[type="file"]::file-selector-button:active{border:solid calc(1rem / 16) gray;border-radius:calc(1rem / 16 * 2);padding:0 calc(1rem / 16 * 8);background-color:#eee;line-height:calc(1 / 16 * 22)}button:active,[type="file"]::file-selector-button:active{border-color:#000;background-color:#fff}[type="file"]{width:100%;text-overflow:ellipsis;white-space:nowrap}[type="file"]::file-selector-button,[type="file"]::file-selector-button:active{margin-right:calc(1rem / 16 * 2)}a:link,a:visited{text-decoration:underline}a:link{color:blue}a:visited{color:purple}canvas{width:100%;background-color:#000}img{width:100%}[type="checkbox"],[type="radio"]{display:inline-block;box-sizing:border-box;position:relative;vertical-align:top;width:1.5rem;height:1.5rem;left:0rem;top:0rem;margin:0rem}header{padding-top:5rem}#statusBar{position:fixed;left:0;top:0;z-index:1;padding:.375rem .5rem;margin:0;background-color:#eee;width:100%;height:4.5rem;overflow:scroll;line-height:1.25}footer{margin-top:1rem;padding-top:1rem;background-color:#eee}.label_radio{background-color:#eee;margin-right:1rem}label{margin-bottom:1rem}#button_create{margin-right:1rem}
		</style>
		<title>create sample file</title>
	</head>
	<body>
		<header
			><p id="statusBar"></p
		></header>
		<label>file name: <input id="input_filename"type="text" value="sample.txt"></label><br>
		<label>size: <input id="input_size" class="input_number" type="number" value="256">Byte</label><br>
		<label>min: <input id="input_min" class="input_number" type="number" value="0" placeholder="0 ~ 255"></label><br>
		<label>max: <input id="input_max" class="input_number" type="number" value="255" placeholder="0 ~ 255"></label><br>
		<label class="label_radio">loop: <input id="radio_loop" name="radio1" type="radio" checked></label
		><label class="label_radio">random: <input id="radio_random" name="radio1" type="radio"></label><br>
		<button id="button_create" type="button">create sample</button
		><a>download</a>
		<script>
			(()=>{"use strict";let e=new Map([["self",["defineProperty","freezeProperty","$","sleep","downloadFile","download","canvasToURL","drawImagefileToCanvas"]],["Math",["randomInt"]],["Blob.prototype",["uint8Array","dataURL"]],["String.prototype",["atob","btoa","toUTF8","toUTF16","base16Decode","normalizeNewline","trimIndent"]],["Uint8Array.prototype",["btoa","text","loop","random","base16Encode"]]]),t=(e,t,r="self",n=!1,l=!0,o=!0)=>{let a=e=>{let t=e.split("."),r=self;for(let n of t)r=r[n];return r},i=(e="self",t=[""])=>{"string"==typeof t&&(t=[t]);let r=a(e);for(let n of t)try{if(!0===r.hasOwnProperty(n))throw Error(`[${e}.${n}] is in conflict`)}catch(l){console.error(l)}};!1===Array.isArray(e)&&(e=[e]),!1===Array.isArray(t)&&(t=[t]),i(r,e),r=a(r);for(let f=0;f<t.length;f++)Object.defineProperty(r,e[f],{value:t[f],configurable:l,writable:n,enumerable:o})},r=[t,(e,t=self)=>{"string"==typeof e&&(e=[e]);for(let r=0;r<e.length;r++)Object.defineProperty(t,e[r],{configurable:!1,enumerable:!0,writable:!1})},e=>{let t=document.querySelectorAll(e);return 1===t.length?t[0]:t},(e=0)=>new Promise(t=>{setTimeout(t,e)}),(e,t="00.txt",r=document.querySelector("a"),n=!0)=>{"[object Uint8Array]"===toString.call(e)&&(e=new Blob([e])),n&&URL.revokeObjectURL(r.href);{let l=URL.createObjectURL(e);return""==t&&(t="00.txt"),r.download=t,r.href=l,l}},(e,t="00")=>{let r=document.createElement("a");"[object Uint8Array]"===toString.call(e)&&(e=new Blob([e]));{let n=URL.createObjectURL(e);r.href=n,r.download=t,r.click(),URL.revokeObjectURL(n)}},(e=document.querySelector("canvas"),t="image/png",r=.85)=>new Promise(n=>{e.toBlob(e=>{let t=URL.createObjectURL(e);n(t)},t,r)}),async(e,t=document.querySelector("canvas"),r,n,l=0,o=0,a=!0)=>{if("[object File]"!==toString.call(e)&&"[object Blob]"!==toString.call(e))return null;let i=new FileReader,f=new Image;return i.readAsDataURL(e),f.src=await new Promise(e=>{i.onload=()=>{e(i.result)}}),await f.decode().then(()=>{let e=t.getContext("2d");void 0==r&&(r=f.naturalWidth),void 0==n&&(n=f.naturalHeight),void 0==l&&(l=0),void 0==o&&(o=0),a&&(t.width=r,t.height=n),e.drawImage(f,l,o,r,n)}).catch(e=>e)},(e=255,t=0)=>Math.floor(Math.random()*(e-t+1)+t),async function(){let e=await this.arrayBuffer();return new Uint8Array(e)},function(){return new Promise(e=>{let t=new FileReader;t.readAsDataURL(this),t.onload=()=>{e(t.result)}})},function(){let e=atob(this.replace(/.*,/,"")),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},async function(){let e=new Blob([this]),t=await e.arrayBuffer(),r=new Uint8Array(t),n="";for(let l of r)n+=String.fromCharCode(l);return btoa(n)},function(){return new TextEncoder().encode(this)},function(e,t=!1){let r=(()=>{let e=Array(this.length);for(let t=0;t<this.length;t++){let r=this.charCodeAt(t);e[t]=r.toString(16).padStart(4,"0")}return e.join("").split("")})``,n=new Uint8Array(2*this.length);for(let l=0,o=0;l<r.length;l++){let a=r[o]+r[o+1];o+=2,n[l]=parseInt(a,16)}if(e=(()=>"be"===e||"BE"===e?"BE":"le"===e||"LE"===e?"LE":void 0)``,t=(()=>{let r=[254,255];return void 0===e||"BE"===e&&!0==t?r:"LE"===e&&!0==t&&[255,254]})``,"LE"===e)for(let i=0;i<n.length;i+=2){let f=n[i],c=n[i+1];n[i]=c,n[i+1]=f}if(!1!==t){let h=new Uint8Array(n.length+2),$=0;for(let u of(h[$++]=t[0],h[$++]=t[1],n))h[$++]=u;return h}return n},function(){let e=this.replace(/[^0-9A-Fa-f]/g,"").split(""),t=new Uint8Array(e.length/2);for(let r=0,n=0;r<t.length;r++){let l=e[n]+e[n+1];t[r]=parseInt(l,16),n+=2}return t},function(e="\n"){return this.replace(/\r\n|\r|\n/g,e)},function(e=!0,t=!0){let r=this.replace(/^ +|^\t+/mg,"");return!0==e&&(r=r.trimStart()),!0==t&&(r=r.trimEnd()),r},function(){let e="";for(let t of this)e+=String.fromCharCode(t);return btoa(e)},function(e="UTF-8"){return"UTF-16"===e&&(e="UTF-16BE"),new Promise(t=>{let r=new Blob([this]),n=new FileReader;n.readAsText(r,e),n.onload=()=>{t(n.result)}})},function(e=0,t=255,r=0,n=this.length-1){let l=e;for(let o=r;o<=n;o++)this[o]=l,++l>t&&(l=e);return this},function(e=0,t=255,r=0,n=this.length-1){for(let l=r;l<=n;l++)this[l]=Math.floor(Math.random()*(t-e+1)+e);return this},function(e="",t=!0,r=!0){let n=Array(this.length);for(let l=0;l<n.length;l++)n[l]=this[l].toString(16),!0===r&&(n[l]=n[l].toUpperCase()),!0===t&&(n[l]=n[l].padStart(2,"0"));return n.join(e)}],n=0;for(let l of e){let o=l[0],a=l[1],i=(()=>{let e=Array(a.length);for(let t=0;t<e.length;t++)e[t]=r[n],n++;return e})``;t(a,i,o)}})``;
			(()=>{"use strict";let e={loading:!1},t=$("#statusBar"),n=$("#input_filename"),o=$("#input_size"),a=$("#input_min"),i=$("#input_max"),l=$("#radio_loop"),r=$("#radio_random"),u=$("a"),c=(e=255,t=0,n=255,o="loop")=>{let a=new Uint8Array(e);if("loop"==o){let i=t;for(let l=0;l<a.length;l++)a[l]=i,++i>n&&(i=t)}else if("random"==o)for(let r=0;r<a.length;r++)a[r]=Math.randomInt(n,t);return a},d=(e,t=0,n)=>{let o=Number(e);return n?!!(o>=t)&&!!(o<=n):o>=t};$("#button_create").onclick=async()=>{if(!e.loading){e.loading=!0,t.innerText="now creating",await sleep();try{let f=Number(o.value),m=Number(a.value),g=Number(i.value);if(!d(f,1))throw Error("not a natural number [size]");if(!d(m,0,255))throw Error("out of range [min]");if(!d(g,m,255))throw Error("out of range [max]");{let p=(()=>l.checked?"loop":r.checked?"random":void 0)``,h=c(f,m,g,p);downloadFile(h,n.value,u),t.innerText="complete"}}catch(s){t.innerText=s}finally{e.loading=!1}}}})``;
		</script>
	</body>
</html>
